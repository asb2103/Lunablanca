// app.js
document.addEventListener('DOMContentLoaded', function() {
    // Inicializar AOS
    AOS.init({
        duration: 800,
        once: true,
        easing: 'ease-out-back'
    });

    // Configurar partículas
    if (window.particlesJS) {
        particlesJS('particles-js', {
            particles: {
                number: { value: 30, density: { enable: true, value_area: 800 } },
                color: { value: '#8B0000' },
                shape: { type: 'circle' },
                opacity: { value: 0.5, random: true },
                size: { value: 3, random: true },
                line_linked: { enable: false },
                move: { 
                    enable: true, 
                    speed: 1, 
                    direction: 'bottom', 
                    straight: false,
                    out_mode: 'out' 
                }
            },
            interactivity: {
                detect_on: 'canvas',
                events: {
                    onhover: { enable: false },
                    onclick: { enable: false }
                }
            }
        });
    }

    // Manejo del formulario
    const form = document.getElementById('santaForm');
    if (form) {
        form.addEventListener('submit', function(e) {
            e.preventDefault();
            const btn = this.querySelector('button[type="submit"]');
            
            btn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Enviando...';
            btn.disabled = true;
            
            setTimeout(() => {
                btn.innerHTML = '<i class="fas fa-check"></i> ¡Petición Recibida!';
                btn.classList.add('success');
                this.reset();
                
                setTimeout(() => {
                    btn.innerHTML = '<i class="fas fa-candle-holder"></i> Ofrendar Petición';
                    btn.classList.remove('success');
                    btn.disabled = false;
                }, 2000);
            }, 1500);
        });
    }
});
